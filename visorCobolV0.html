<style>
textarea {
 width: 100%;
}
#myDiv {
   display: flex;
   flex-direction: column;
   font-family: 'Courier New', monospace;
}
.democlass {
  background-color: lightblue;
  opacity : 0.5;
  color: green;
}
</style>

<textarea id="textarea1"></textarea>
<button id="btn1">Push</button>
<button id="btn2">Copy</button>
<div id="myDiv"></div>
<textarea id="textarea2"></textarea>

<script>
 
var txt = document.querySelector("#textarea1");
var btn1 = document.querySelector("#btn1");
var tabNumber = 0;

btn1.onclick = function() {
 document.querySelector("#myDiv").innerHTML="";
 var txtValue = txt.value.split(/\n\r?/g);
 var spaces = "";
 for(i in txtValue) {
  
  //let space = document.createElement("span");
  //space.innerHTML = "&nbsp&nbsp&nbsp&nbsp";  
  //document.querySelector("#myDiv").appendChild(space);
  
  //var node = document.createTextNode(txtValue[i]);
  //document.querySelector("#myDiv").appendChild(node);

  let txtValueTrim = txtValue[i].trim();
  var firstWord = txtValueTrim.replace(/ .*/,'');

  let newDiv = document.createElement("div");
  
  newDiv.setAttribute("class", "democlass");
  //newDiv.innerHTML = txtValue[i];
  newDiv.innerHTML = spaces + firstWord;
  document.querySelector("#myDiv").appendChild(newDiv);
  
  if (firstWord == "IF") {
     spaces = spaces + "&nbsp&nbsp&nbsp&nbsp";
  }
  //let lineBreak = document.createElement("br");
  //document.querySelector("#myDiv").appendChild(lineBreak); 
 }
}

</script>
